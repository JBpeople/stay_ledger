{% extends "base.html" %}
{% set title = "修改记录 - 记账工具" %}
{% block content %}
<header class="topbar">
  <h1>修改记录</h1>
  <div class="top-actions">
    <a class="ghost-link" href="{{ url_for('index') }}">返回首页</a>
  </div>
</header>

<section class="card">
  <form method="post" class="form grid">
    <label>
      类型
      <select name="type" required>
        <option value="expense" {% if tx.type == "expense" %}selected{% endif %}>支出</option>
        <option value="income" {% if tx.type == "income" %}selected{% endif %}>收入</option>
      </select>
    </label>
    <label>
      金额
      <input name="amount" type="number" min="0" step="0.01" required value="{{ "%.2f"|format(tx.amount) }}">
    </label>
    <label>
      分类
      <select name="category" required>
        {% for c in categories %}
        <option value="{{ c }}" {% if tx.category == c %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
      </select>
    </label>
    <label>
      日期
      <input name="happened_on" type="date" required value="{{ tx.happened_on }}">
    </label>
    <label class="full">
      备注
      <input name="note" type="text" maxlength="200" value="{{ tx.note or '' }}">
    </label>
    <button class="full" type="submit">保存修改</button>
  </form>
</section>
{% endblock %}
